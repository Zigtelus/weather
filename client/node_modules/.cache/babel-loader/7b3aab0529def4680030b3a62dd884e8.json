{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { getUsersActions } from \"../actions/users.action\";\nimport { addUserAction } from \"../actions/addUser.action\";\nconst initialState = {\n  main: null,\n  loading: false,\n  errorConnect: undefined,\n  getUsers: {\n    loading: false,\n    errorConnect: undefined\n  },\n  addUser: {\n    loading: false,\n    errorConnect: undefined,\n    message: undefined\n  }\n};\nexport const ussersSlice = createSlice({\n  name: 'users',\n  initialState: initialState,\n  reducers: {\n    getUserFomLocalStorage(state, action) {\n      state.main = action.payload;\n    },\n\n    addUser(state, action) {\n      state.addUser.errorConnect = action.payload;\n      state.addUser.message = action.payload;\n    }\n\n  },\n  extraReducers: {\n    /**************** getUsers ****************************/\n    [getUsersActions.fulfilled.type]: (state, action) => {\n      console.log(action.payload);\n\n      if (typeof action.payload === 'string') {\n        state.errorConnect = action.payload;\n      } else {\n        state.main = action.payload;\n        state.getUsers.errorConnect = '';\n      }\n\n      ;\n      state.getUsers.loading = false;\n    },\n    [getUsersActions.pending.type]: (state, action) => {\n      state.getUsers.loading = true;\n    },\n    [getUsersActions.rejected.type]: (state, action) => {\n      console.log('error seraching user');\n      state.getUsers.loading = false;\n      state.getUsers.errorConnect = '';\n    },\n\n    /******************************************************/\n\n    /**************** getUsers ****************************/\n    [addUserAction.fulfilled.type]: (state, action) => {\n      console.log(action.payload);\n\n      if (typeof action.payload === 'string') {\n        state.addUser.errorConnect = action.payload;\n      } else {\n        state.addUser.message = 'вы успешно зарегистрировались';\n        state.main = action.payload;\n      }\n\n      ;\n      state.addUser.loading = false;\n    },\n    [addUserAction.pending.type]: (state, action) => {\n      state.addUser.loading = true;\n      state.addUser.message = '';\n      state.addUser.errorConnect = '';\n    },\n    [addUserAction.rejected.type]: (state, action) => {\n      state.addUser.loading = false;\n    }\n    /******************************************************/\n\n  }\n});\nexport const {\n  getUserFomLocalStorage,\n  addUser\n} = ussersSlice.actions;\nexport default ussersSlice.reducer;","map":{"version":3,"names":["createSlice","getUsersActions","addUserAction","initialState","main","loading","errorConnect","undefined","getUsers","addUser","message","ussersSlice","name","reducers","getUserFomLocalStorage","state","action","payload","extraReducers","fulfilled","type","console","log","pending","rejected","actions","reducer"],"sources":["/Users/gregory/Desktop/untitled folder 2/wwww/weather/client/src/store/users/slice/users.slice.ts"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { getUsersActions } from \"../actions/users.action\";\nimport { addUserAction } from \"../actions/addUser.action\";\n\n\n\ntype InitialState = {\n  main: {\n    \"name\": string;\n    \"password\": string;\n    \"email\": string;\n    \"age\": number;\n    \"dateRegistration\": string;\n    \"coords\": {\n        \"latitude\": number;\n        \"longitude\": number;\n        \"city\": string;\n    },\n    \"role\": string,\n    \"userId\": string\n  } | null,\n  getUsers: {\n    loading: boolean;\n    errorConnect: undefined | string;\n  };\n  addUser: {\n    loading: boolean;\n    errorConnect: undefined | string;\n    message: undefined | string\n  };\n  loading: boolean;\n  errorConnect: undefined | string;\n}\n\n\nconst initialState: InitialState = {     \n  main: null,\n  loading: false,\n  errorConnect: undefined,\n\n  getUsers: {\n    loading: false,\n    errorConnect: undefined\n  },\n\n  addUser: {\n    loading: false,\n    errorConnect: undefined,\n    message: undefined\n  },\n}\n\n\nexport const ussersSlice = createSlice({\n  name: 'users',\n  initialState: initialState,\n  reducers: {\n    getUserFomLocalStorage(state, action) {\n      state.main = action.payload;\n    },\n    addUser(state, action) {\n      state.addUser.errorConnect = action.payload;\n      state.addUser.message      = action.payload;\n    }\n  },\n  extraReducers: {\n\n    /**************** getUsers ****************************/\n    [getUsersActions.fulfilled.type]: (state, action) => {\n      console.log(action.payload)\n      if (typeof action.payload === 'string') {\n        state.errorConnect = action.payload;\n      } else {\n        state.main = action.payload;\n        state.getUsers.errorConnect = '';\n      };\n      state.getUsers.loading = false;\n    },\n    [getUsersActions.pending.type]: (state, action)=> {\n      state.getUsers.loading = true;\n    },\n    [getUsersActions.rejected.type]: (state, action) => {\n      console.log('error seraching user');\n      state.getUsers.loading = false;\n      state.getUsers.errorConnect = '';\n    },\n    /******************************************************/\n\n\n    /**************** getUsers ****************************/\n    [addUserAction.fulfilled.type]: (state, action) => {\n\n      console.log(action.payload)\n      if (typeof action.payload === 'string') {\n        state.addUser.errorConnect = action.payload;\n      } else {\n        state.addUser.message = 'вы успешно зарегистрировались';\n        state.main = action.payload;\n      };\n\n      state.addUser.loading = false;\n    },\n    [addUserAction.pending.type]: (state, action)=> {\n      state.addUser.loading = true;\n      state.addUser.message = '';\n      state.addUser.errorConnect = '';\n    },\n    [addUserAction.rejected.type]: (state, action) => {\n      state.addUser.loading = false;\n\n    }\n    /******************************************************/\n  }\n})\n\nexport const {getUserFomLocalStorage, addUser} = ussersSlice.actions;\nexport default ussersSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}