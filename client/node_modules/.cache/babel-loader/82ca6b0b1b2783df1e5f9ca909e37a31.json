{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { timeZone } from \"src/helpers/timeZone\";\nimport { fiveDaysAction } from \"../actions/fiveDays.action\";\nexport const initialStateFD = {\n  \"main\": {\n    \"cod\": \"\",\n    \"message\": 0,\n    \"cnt\": 0,\n    \"list\": [{\n      \"dt\": 0,\n      \"main\": {\n        \"temp\": 0,\n        \"feels_like\": 0,\n        \"temp_min\": 0,\n        \"temp_max\": 0,\n        \"pressure\": 0,\n        \"sea_level\": 0,\n        \"grnd_level\": 0,\n        \"humidity\": 0,\n        \"temp_kf\": 0\n      },\n      \"weather\": [{\n        \"id\": 0,\n        \"main\": \"\",\n        \"description\": \"\",\n        \"icon\": \"\"\n      }],\n      \"clouds\": {\n        \"all\": 0\n      },\n      \"wind\": {\n        \"speed\": 0,\n        \"deg\": 0,\n        \"gust\": 0\n      },\n      \"visibility\": 0,\n      \"pop\": 0,\n      \"sys\": {\n        \"pod\": \"\"\n      },\n      \"dt_txt\": \"\"\n    }, {\n      \"dt\": 0,\n      \"main\": {\n        \"temp\": 0,\n        \"feels_like\": 0,\n        \"temp_min\": 0,\n        \"temp_max\": 0,\n        \"pressure\": 0,\n        \"sea_level\": 0,\n        \"grnd_level\": 0,\n        \"humidity\": 0,\n        \"temp_kf\": 0\n      },\n      \"weather\": [{\n        \"id\": 0,\n        \"main\": \"\",\n        \"description\": \"\",\n        \"icon\": \"\"\n      }],\n      \"clouds\": {\n        \"all\": 0\n      },\n      \"wind\": {\n        \"speed\": 0,\n        \"deg\": 0,\n        \"gust\": 0\n      },\n      \"visibility\": 0,\n      \"pop\": 0,\n      \"sys\": {\n        \"pod\": \"\"\n      },\n      \"dt_txt\": \"\"\n    }],\n    \"city\": {\n      \"id\": 0,\n      \"name\": \"\",\n      \"coord\": {\n        \"lat\": 0,\n        \"lon\": 0\n      },\n      \"country\": \"ru\",\n      \"population\": 0,\n      \"timezone\": 0,\n      \"sunrise\": 0,\n      \"sunset\": 0\n    }\n  },\n  \"loading\": false,\n  \"errorConnect\": undefined\n};\nexport const fiveDaySlice = createSlice({\n  name: 'fiveDays',\n  initialState: initialStateFD,\n  reducers: {\n    getLoading(state, action) {\n      state.loading = action.payload;\n    }\n\n  },\n  extraReducers: {\n    [fiveDaysAction.fulfilled.type]: (state, action) => {\n      var _action$payload;\n\n      state.main = { ...action.payload\n      };\n      console.log('gts', action.payload);\n\n      if (!!((_action$payload = action.payload) !== null && _action$payload !== void 0 && _action$payload.city)) {\n        for (let i = 0; i < action.payload.list.length - 1; i++) {\n          const five = {\n            main: action.payload\n          };\n          const isTimeZone = timeZone(five.main, i);\n          state.main.list[i].dt_txt = isTimeZone;\n        }\n      }\n\n      state.loading = false;\n      state.errorConnect = \"\";\n    },\n    [fiveDaysAction.pending.type]: (state, action) => {\n      state.loading = true;\n    },\n    [fiveDaysAction.rejected.type]: (state, action) => {\n      const {\n        error: {\n          message\n        }\n      } = action;\n      const timeout = message.split(' ')[0];\n      console.log('error', message);\n\n      if (timeout === \"timeout\") {\n        if (typeof state.errorConnect === \"string\") {\n          if (state.errorConnect === '') {\n            state.errorConnect = \"timeout 1\";\n          } else {\n            const numberTimeout = state.errorConnect.split(\" \")[1];\n            state.errorConnect = \"timeout \" + (Number(numberTimeout) + 1);\n          }\n        } else {\n          state.errorConnect = \"timeout 1\";\n        }\n      } else {\n        console.log('error', message);\n        state.errorConnect = message;\n        state.loading = false;\n      }\n\n      ;\n    }\n  }\n});\nexport const {\n  getLoading\n} = fiveDaySlice.actions;\nexport default fiveDaySlice.reducer;","map":{"version":3,"names":["createSlice","timeZone","fiveDaysAction","initialStateFD","undefined","fiveDaySlice","name","initialState","reducers","getLoading","state","action","loading","payload","extraReducers","fulfilled","type","main","console","log","city","i","list","length","five","isTimeZone","dt_txt","errorConnect","pending","rejected","error","message","timeout","split","numberTimeout","Number","actions","reducer"],"sources":["/Users/gregory/Desktop/untitled folder 2/wwww/weather/client/src/store/weather/slices/fiveDays.slice.ts"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { timeZone } from \"src/helpers/timeZone\";\nimport { FiveDays } from \"src/types/weather/fiveDays\";\nimport { fiveDaysAction } from \"../actions/fiveDays.action\";\n\n\ntype InitialState = {\n  main: FiveDays;\n  loading?: boolean;\n  errorConnect: undefined | string;\n};\n\nexport const initialStateFD: InitialState = {     \n  \"main\": {\n    \"cod\": \"\",\n    \"message\": 0,\n    \"cnt\": 0,\n    \"list\": [\n      {\n        \"dt\": 0,\n        \"main\": {\n          \"temp\": 0,\n          \"feels_like\": 0,\n          \"temp_min\": 0,\n          \"temp_max\": 0,\n          \"pressure\": 0,\n          \"sea_level\": 0,\n          \"grnd_level\": 0,\n          \"humidity\": 0,\n          \"temp_kf\": 0,\n        },\n        \"weather\": [\n          {\n            \"id\": 0,\n            \"main\": \"\",\n            \"description\": \"\",\n            \"icon\": \"\",\n          }\n        ],\n        \"clouds\": {\n          \"all\": 0,\n        },\n        \"wind\": {\n          \"speed\": 0,\n          \"deg\": 0,\n          \"gust\": 0,\n        },\n        \"visibility\": 0,\n        \"pop\": 0,\n        \"sys\": {\n          \"pod\": \"\",\n        },\n        \"dt_txt\": \"\",\n      },\n      {\n        \"dt\": 0,\n        \"main\": {\n          \"temp\": 0,\n          \"feels_like\": 0,\n          \"temp_min\": 0,\n          \"temp_max\": 0,\n          \"pressure\": 0,\n          \"sea_level\": 0,\n          \"grnd_level\": 0,\n          \"humidity\": 0,\n          \"temp_kf\": 0,\n        },\n        \"weather\": [\n          {\n            \"id\": 0,\n            \"main\": \"\",\n            \"description\": \"\",\n            \"icon\": \"\",\n          }\n        ],\n        \"clouds\": {\n          \"all\": 0,\n        },\n        \"wind\": {\n          \"speed\": 0,\n          \"deg\": 0,\n          \"gust\": 0,\n        },\n        \"visibility\": 0,\n        \"pop\": 0,\n        \"sys\": {\n          \"pod\": \"\"\n        },\n        \"dt_txt\": \"\",\n      },\n    ],\n    \"city\": {\n      \"id\": 0,\n      \"name\": \"\",\n      \"coord\": {\n        \"lat\": 0,\n        \"lon\": 0,\n      },\n      \"country\": \"ru\",\n      \"population\": 0,\n      \"timezone\": 0,\n      \"sunrise\": 0,\n      \"sunset\": 0,\n    }\n  },\n  \"loading\": false,\n  \"errorConnect\": undefined\n};\n\nexport const fiveDaySlice = createSlice({\n  name: 'fiveDays',\n  initialState: initialStateFD,\n  reducers: {\n    getLoading(state, action) {\n      state.loading = action.payload\n    }\n  },\n  extraReducers: {\n    [fiveDaysAction.fulfilled.type]: (state, action) => {\n\n      state.main = {...action.payload};\n\n      console.log('gts', action.payload)\n      if (!!action.payload?.city) {\n        for (let i = 0; i < action.payload.list.length-1; i++) {\n\n          const five = {\n            main: action.payload\n          }\n          \n          const isTimeZone = timeZone(five.main, i);\n          state.main.list[i].dt_txt = isTimeZone\n        }\n      }\n\n      state.loading = false;\n      state.errorConnect = \"\";\n    },\n    [fiveDaysAction.pending.type]: (state, action)=> {\n      state.loading = true;\n    },\n    [fiveDaysAction.rejected.type]: (state, action) => {\n      const {error: {message}} = action;\n      const timeout = message.split(' ')[0];\n      \n      console.log('error', message);\n      if (timeout === \"timeout\") {\n        if (typeof state.errorConnect === \"string\") {\n          if (state.errorConnect === '') {\n            state.errorConnect = \"timeout 1\";\n          } else {\n            const numberTimeout = state.errorConnect.split(\" \")[1];\n            state.errorConnect = \"timeout \" + (Number(numberTimeout) +1);\n          }\n        } else {\n          state.errorConnect = \"timeout 1\";\n        }\n      } else {\n        console.log('error', message);\n        state.errorConnect = message;\n        state.loading = false;\n      };\n    }\n  }\n})\n\n\nexport const {getLoading} = fiveDaySlice.actions\nexport default fiveDaySlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}